
<!-- <nav class="navbar">
  <h3 style="text-align: center;">Quill Js Editor</h3>
</nav> -->
<div class="container">
  <div class="row">
    <!-- class="col-12 col-lg-9" -->
      <div class="col-12 col-lg-9 col-md-7" id="editorElement">
          <div class="col-nd-auto" id="topEditor">
                  <label for="tituloPost">Título</label>
                  <input type="text" name="tituloPost" id="tituloPost" [(ngModel)]="post.titulo" placeholder="Título da postagem">
              <!-- <div class="row"> -->
                  <label for="LegendaPost">Legenda</label>
                  <input type="text" name="LegendaPost" id="LegendaPost" [(ngModel)]="post.legenda" placeholder="Legenda ou resumo da postagem">
                  
                  <label for="capaPost">Imagem de Capa</label>
                  <input type="file" name="capaPost" id="capaPost" #imagemCapa>
          </div>
          <div class="row">
              <div class="col-nd-12">
                  <quill-editor [styles]="{height: '200px'}" [modules]="modules" (onEditorChanged)="changedEditor($event)" #content="ngModel" [(ngModel)]="post.texto" placeholder="Por favor insira seu post aqui">
                  </quill-editor>
              </div>
          </div>
          <div class="row">
              <div class="col">
                  <button class="btn" id="buttonSave" (click)="saveContent()">Salvar</button>
              </div>
          </div>
      </div>
      <!-- class="col-12 col-lg-3"  -->
      <div class="col-12 col-lg-3 col-md-5" id="postInfo">
          <div id="accordion">
              <div class="card">
                  <div class="card-header" id="headingOne">
                      <h5 class="mb-0">
                          <button class="btn btn-link" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne" #status>
                              Status e Visibilidade
                                <ng-template [ngIf]="!buttonS" [ngIfElse]="dropdownIcon">
                                    <i class="fa fa-caret-down"></i>
                                </ng-template>
                                <ng-template #dropdownIcon>
                                    <i class="fa fa-caret-up"></i>
                                </ng-template>
                          </button>
                      </h5>
                  </div>
                  <div id="collapseOne" class="collapse show" aria-labelledby="headingOne"> <!--show para aparecer aberto-->
                      <div class="card-body">
                        <div class="statusDiv viewPost">
                            <button id="statusRascunho">Salvar Rascunho</button>
                            <button id="statusPreview">Preview</button>
                        </div>
                        <div class="viewPost" id="statusPost">
                            <div class="statusDiv">
                                <p>Visibilidade:</p>
                                <ng-template [ngIf]="visibilidadeContent" [ngIfElse]="visibilidadeSelect">
                                    <p id="visibilidade">Pública</p>  
                                </ng-template>
                                <ng-template #visibilidadeSelect>
                                    <select id="visibilidade">
                                        <option value="publica">Pública</option>
                                        <option value="privada">Privada</option>
                                    </select>
                                </ng-template>
                                <button #editarVisibilidade class="editButton">Editar</button>
                            </div>
                            <div class="statusDiv">
                                <p>Publicação:</p>
                                <ng-template [ngIf]="publicacaoContent" [ngIfElse]="publicacaoSelect">
                                    <p id="publicacao">Imediata</p>
                                </ng-template>
                                <ng-template #publicacaoSelect>
                                    <select id="publicacao">
                                        <option *ngFor="let option of publicacaoOptions" [value]="option.value">
                                            {{ option.label }}
                                        </option>
                                    </select>
                                </ng-template>
                                <button #editarPublicacao class="editButton">Editar</button>
                            </div>
                            <div class="statusDiv">
                                <p>Status:</p>
                                <ng-template [ngIf]="statusContent" [ngIfElse]="statusSelect">
                                    <p id="idStatus">Rascunho</p>
                                </ng-template>
                                <ng-template #statusSelect>
                                    <select id="publicacao">
                                        <option *ngFor="let option of statusOptions" [value]="option.value">
                                            {{ option.label }}
                                        </option>
                                    </select>
                                </ng-template>
                                <button #editarStatus class="editButton">Editar</button>
                            </div>
                        </div>
                        <div class="statusDiv viewPost" id="saveDiv">
                            <button id="statusDelete">Deletar</button>
                            <button id="statusSave">Salvar</button>
                        </div>
                      </div>
                  </div>
              </div>
              <div class="card">
                  <div class="card-header" id="headingTwo">
                      <h5 class="mb-0">
                          <button class="btn btn-link collapsed" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo" #category> <!--data-bs-parent="#accordion" para aparecer somente um card aberto por vez-->
                              Categorias
                                <ng-template [ngIf]="!buttonC" [ngIfElse]="dropdownIcon">
                                    <i class="fa fa-caret-down"></i>
                                </ng-template>
                                <ng-template #dropdownIcon>
                                    <i class="fa fa-caret-up"></i>
                                </ng-template>
                          </button>
                      </h5>
                  </div>
                  <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" >
                      <div class="card-body">
                        <div class="radio-group">
                            <div *ngFor="let categoria of categorias" id="categorys">
                                <input type="radio" name="categoria" 
                                  [value]="categoria.id"
                                  [checked]="post.categoria?.id === categoria.id"
                                  (change)="onCategoriaSelect(categoria)">
                                <label> {{categoria.nome}}</label>
                            </div>
                        </div>
                      </div>
                  </div>
              </div>
              <div class="card">
                  <div class="card-header" id="headingThree">
                      <h5 class="mb-0">
                          <button class="btn btn-link collapsed" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree" #tags>
                              Tags
                                <ng-template [ngIf]="!buttonT" [ngIfElse]="dropdownIcon">
                                    <i class="fa fa-caret-down"></i>
                                </ng-template>
                                <ng-template #dropdownIcon>
                                    <i class="fa fa-caret-up"></i>
                                </ng-template>
                          </button>
                      </h5>
                  </div>
                  <div id="collapseThree" class="collapse" aria-labelledby="headingThree">
                      <div class="card-body">
                        <Label>Adicionar nova tag</Label>
                        <div id="tagContainer">
                            <input type="text" name="tag" id="newTag" #newTag>
                            <i class="bi bi-plus-circle" (click)="addTag()"></i>
                        </div>
                        <!-- <select class="form-select form-select-sm" aria-label=".form-select-sm example">
                            <option value="" selected disabled hidden>Selecione uma Tag</option> 
                            <option *ngFor="let tag of tagsList" [value]="tag.id">{{ tag.nome }}</option>                            
                        </select> -->
                        <div class="dropdown">
                            <button #tag id="tagButton">Selecione uma Tag 
                                <ng-template [ngIf]="!filtersT" [ngIfElse]="dropdownIcon">
                                <i class="fa fa-caret-down"></i>
                            </ng-template>
                            <ng-template #dropdownIcon>
                                <i class="fa fa-caret-up"></i>
                            </ng-template>
                            </button>
                            <div #tagsApp class="dropdown-content tags-scroll" id="tag" *ngIf="filtersT">
                                <p *ngFor="let tag of tagsList">
                                    {{ tag.nome }} <i class="bi bi-x" (click)="removeTag(tag.id)"></i>
                                </p>
                            </div>
                        </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>